<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="Scripts/jquery-3.3.1.js"></script>
    <script>
        $(document).ready(function () {

            var username = prompt('Please enter a username:');
            var uri = 'ws://' + window.location.hostname + ':' + location.port + '/' + 'api/chat/register' + '?username=' + username + '&password=123';
            websocket = new WebSocket(uri);
            websocket.onopen = function () {
                $('#messages').prepend('<div>Connected.</div>');
                $('#chatform').submit(function (event) {
                    websocket.send($('#inputbox').val());
                    $('#inputbox').val('');
                    event.preventDefault();
                })
            }
            websocket.onerror = function (event) {
                $('#messages').prepend('<div>ERROR</div>');
            }
            websocket.onmessage = function (event) {
                $('#messages').prepend('<div>' + event.data + '</div>');
            }
        })
    </script>
</head>
<body>
    <form id="chatform" action="">
        <input id="inputbox" />
    </form>
    <div id="messages" />
</body>
</html>